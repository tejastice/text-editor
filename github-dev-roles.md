# GitHub開発フロー：役割定義と作業手順

## 初期セットアップ

### リポジトリ構成
- **メインリポジトリ**: プロダクトコードを管理
- **イシュー管理リポジトリ**: イシューとプロジェクト管理専用

### ブランチ戦略
- `main`: 本番環境相当
- `develop`: 開発ブランチ
- `feature/*`: 機能開発ブランチ
- `fix/*`: バグ修正ブランチ

---

## ワーカー（開発者）の作業指示

### 1. 日次作業フロー

#### 朝の作業開始時
1. イシュー管理リポジトリのIssuesを確認
2. 自分にアサインされたイシューを優先度順にソート
3. 本日の作業イシューを選択し、ステータスを「In Progress」に変更

#### 開発作業
1. **ブランチ作成**
   ```bash
   git checkout develop
   git pull origin develop
   git checkout -b feature/issue-番号-簡潔な説明
   ```

2. **コーディング規則**
   - コミットメッセージ: `[#イシュー番号] 実装内容の説明`
   - 細かい単位でコミット（1機能1コミット）
   - テストコードも同時に実装

3. **プルリクエスト作成**
   - タイトル: `[#イシュー番号] 機能/修正の概要`
   - 本文に含める内容:
     - 実装内容の詳細
     - テスト方法
     - スクリーンショット（UI変更の場合）
     - チェックリスト

### 2. コーディング標準

#### 必須事項
- [ ] コードレビュー前にセルフチェック実施
- [ ] リンターエラーがないこと
- [ ] ユニットテストが通ること
- [ ] ドキュメントコメントの記載
- [ ] 不要なconsole.logの削除

#### 推奨事項
- 関数は単一責任の原則に従う
- 変数名は意味が明確なものを使用
- マジックナンバーは定数化
- エラーハンドリングを適切に実装

### 3. 対応優先度

1. **Critical**: 本番障害・セキュリティ問題（即座に対応）
2. **High**: 重要機能のバグ（当日中に対応）
3. **Medium**: 機能追加・改善（2-3日以内）
4. **Low**: リファクタリング・最適化（余裕があるとき）

---

## ディレクター（レビュアー/PM）の作業指示

### 1. 日次レビュー作業

#### 朝の確認事項
1. **プルリクエストレビュー**
   - 新規PRの確認と優先度判定
   - レビュー待ちPRの処理

2. **プロダクトチェック**
   - developブランチの最新状態を確認
   - 統合テストの実行
   - パフォーマンステスト

3. **進捗管理**
   - 各イシューのステータス確認
   - ブロッカーの有無確認

### 2. イシュー作成ガイドライン

#### イシューテンプレート
```markdown
## 概要
[問題/要望の簡潔な説明]

## 詳細
[具体的な内容、再現手順など]

## 期待される結果
[実装後の動作・状態]

## 優先度
- [ ] Critical
- [ ] High
- [ ] Medium
- [ ] Low

## 受け入れ条件
- [ ] 条件1
- [ ] 条件2

## 参考情報
[スクリーンショット、参考URL等]
```

#### ラベル管理
- `bug`: バグ修正
- `enhancement`: 機能改善
- `feature`: 新機能
- `documentation`: ドキュメント
- `performance`: パフォーマンス改善
- `refactoring`: リファクタリング

### 3. コードレビュー基準

#### 必須確認項目
1. **機能要件**
   - イシューの要求を満たしているか
   - エッジケースの考慮

2. **コード品質**
   - 可読性（他の開発者が理解できるか）
   - 保守性（将来の変更が容易か）
   - パフォーマンス影響

3. **セキュリティ**
   - 入力値検証
   - 認証・認可の適切性
   - 機密情報の取り扱い

#### フィードバック方法
- **Approve**: そのままマージ可能
- **Request Changes**: 修正必須
- **Comment**: 提案・質問（修正は任意）

### 4. リリース判定基準

#### マージ条件
- [ ] すべてのテストが通過
- [ ] コードカバレッジ80%以上
- [ ] パフォーマンステスト合格
- [ ] セキュリティスキャン問題なし
- [ ] ドキュメント更新完了

---

## 共通ルール

### コミュニケーション
1. **イシュー内でのやり取り**
   - 技術的な議論はイシューコメントで実施
   - 決定事項は明確に記録

2. **進捗報告**
   - ブロッカーは即座に報告
   - 見積もり超過が予想される場合は事前連絡

### Git操作ルール
1. **force pushの禁止**（mainとdevelop）
2. **直接pushの禁止**（必ずPR経由）
3. **マージ方法**: Squash and merge（履歴をクリーンに保つ）

### 定期メンテナンス
- 週次: 不要ブランチの削除
- 月次: 依存関係の更新確認
- 四半期: アーキテクチャレビュー